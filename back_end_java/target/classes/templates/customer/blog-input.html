<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>添加文章</title>

    <!--引入semantic的css-->
    <!--cdn的方式引用-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">


    <!--引入markdown的css-->
    <link rel="stylesheet" href="../static/lib/editormd/css/editormd.min.css" type="text/css"
          th:href="@{/lib/editormd/css/editormd.css}">


</head>
<body>

<div class="ui container">
    <!--表单-->
    <form id="blog-form" class="ui form" method="post">

        <!--标题-->
        <div class="required field">
            <input type="text" name="title" placeholder="标题">
        </div>

        <!--简述-->
        <div class="required field">
            <textarea name="description" placeholder="博客描述..." maxlength="200"></textarea>
        </div>

        <!--文章内容-->
        <div class="required field">
            <div id="md-content" style="z-index: 1 !important;">
                <textarea name="content" placeholder="博客内容" style="display: none"></textarea>
            </div>
        </div>

        <!--按钮-->
        <div class="ui container center aligned">
            <!--onclick="window.history.go(-1)"-->
            <button class="ui button" type="button">返回</button>
            <button class="ui teal button" type="button" id="submitBtn">发布</button>
        </div>

        <!--表单验证的错误信息显示-->
        <div class="ui error message"></div>

    </form>
</div>


<!--引入JQuery-3xx-->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>

<!--引入semantic的js-->
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>

<!--引入markdown的js-->
<script src="../../static/lib/editormd/editormd.min.js" th:src="@{/lib/editormd/editormd.min.js}"></script>

<!--自定义JS-->
<script>

    /*markdown编辑器的初始化*/
    let contentEditor;
    $(function () {
        contentEditor = editormd("md-content", {
            width: "100%",
            height: 640,
            syncScrolling: "single",
            /*path    : "../static/lib/editormd/lib/"*/
            path: "/lib/editormd/lib/"
        });
    });

    /*表单验证，class=required field*/
    $('.ui.form').form({
        fields: {
            title: {
                //与name属性对应
                identifier: 'title',
                rules:[{
                    type: 'empty',
                    prompt: '请输入文章标题'
                }]
            },
            description:{
                /*与表单里面的name属性对应*/
                identifier:'description',
                rules:[{
                    type:'empty',
                    prompt:'请输入文章简要描述'
                }]
            },
            content:{
                /*与表单里面的name属性对应*/
                identifier:'content',
                rules:[{
                    type:'empty',
                    prompt:'请输入文章主题内容'
                }]
            }
        }
    });

    /*提交按钮的点击事件*/
    $('#submitBtn').click(function () {
        $("#blog-form").submit();
    })

</script>

</body>
</html>